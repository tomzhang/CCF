

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>RPC API &#8212; CCF  documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary" href="../glossary.html" />
    <link rel="prev" title="Issuing Commands" href="issue_commands.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

    
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/ccf.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-11 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../introduction.html">Introduction</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../concepts.html">Concepts</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../quickstart/index.html">Start Here</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../members/index.html">Governance</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../developers/index.html">Building Apps</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../operators/index.html">Operations</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">Using Apps</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../glossary.html">Glossary</a>
        </li>
        
        
      </ul>

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/Microsoft/CCF" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        
          
              <li class="">
                  <a href="deploy_app.html">Deploying an Application</a>
              </li>
          
        
          
              <li class="">
                  <a href="issue_commands.html">Issuing Commands</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">RPC API</a>
              </li>
          
        
      
      
      
      
    </ul>

    
      <ul>
        <li>
          <a href="rpc_api.html" class="badge">v0.10</a>
        </li>
      </ul>
      <ul>
        <li>
          <a href="../../master/users/rpc_api.html" class="badge">master</a>
        </li>
      </ul>
    

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#common-methods" class="nav-link">Common Methods</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#getcommit" class="nav-link">getCommit</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#getprimaryinfo" class="nav-link">getPrimaryInfo</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#getmetrics" class="nav-link">getMetrics</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#getschema" class="nav-link">getSchema</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#listmethods" class="nav-link">listMethods</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/Microsoft/CCF/edit/master/doc/users/rpc_api.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="rpc-api">
<h1>RPC API<a class="headerlink" href="#rpc-api" title="Permalink to this headline">Â¶</a></h1>
<p>The available RPC methods vary depending on your TLS connection identity. Some methods are common to all frontends, others are restricted to the member and node frontends, and the app logic is only exposed to users.</p>
<p>The API can also be retrieved from a running service using the <a class="reference internal" href="#listmethods">listMethods</a> and <a class="reference internal" href="#getschema">getSchema</a> methods. For example, using curl:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl https://&lt;ccf-node-address&gt;/users/listMethods --cacert networkcert.pem --key user0_privk.pem --cert user0_cert.pem
<span class="o">{</span>
  <span class="s2">&quot;methods&quot;</span>: <span class="o">[</span>
    <span class="s2">&quot;LOG_get&quot;</span>,
    <span class="s2">&quot;LOG_get_pub&quot;</span>,
    <span class="s2">&quot;LOG_record&quot;</span>,
    <span class="s2">&quot;LOG_record_anonymous&quot;</span>,
    <span class="s2">&quot;LOG_record_prefix_cert&quot;</span>,
    <span class="s2">&quot;LOG_record_pub&quot;</span>,
    <span class="s2">&quot;getCommit&quot;</span>,
    <span class="s2">&quot;getMetrics&quot;</span>,
    <span class="s2">&quot;getNetworkInfo&quot;</span>,
    <span class="s2">&quot;getPrimaryInfo&quot;</span>,
    <span class="s2">&quot;getReceipt&quot;</span>,
    <span class="s2">&quot;getSchema&quot;</span>,
    <span class="s2">&quot;listMethods&quot;</span>,
    <span class="s2">&quot;mkSign&quot;</span>,
    <span class="s2">&quot;verifyReceipt&quot;</span>,
    <span class="s2">&quot;whoAmI&quot;</span>,
    <span class="s2">&quot;whoIs&quot;</span>
  <span class="o">]</span>
<span class="o">}</span>

$ curl https://&lt;ccf-node-address&gt;/users/getSchema --cacert networkcert.pem --key user0_privk.pem --cert user0_cert.pem --data-binary <span class="s1">&#39;{&quot;method&quot;: &quot;getPrimaryInfo&quot;}&#39;</span> -H <span class="s2">&quot;content-type: application/json&quot;</span>
<span class="o">{</span>
  <span class="s2">&quot;params_schema&quot;</span>: <span class="o">{}</span>,
  <span class="s2">&quot;result_schema&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;</span><span class="nv">$schema</span><span class="s2">&quot;</span>: <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span>,
    <span class="s2">&quot;properties&quot;</span>: <span class="o">{</span>
      <span class="s2">&quot;primary_host&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>
      <span class="o">}</span>,
      <span class="s2">&quot;primary_id&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;maximum&quot;</span>: <span class="m">18446744073709551615</span>,
        <span class="s2">&quot;minimum&quot;</span>: <span class="m">0</span>,
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;number&quot;</span>
      <span class="o">}</span>,
      <span class="s2">&quot;primary_port&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">&quot;required&quot;</span>: <span class="o">[</span>
      <span class="s2">&quot;primary_id&quot;</span>,
      <span class="s2">&quot;primary_host&quot;</span>,
      <span class="s2">&quot;primary_port&quot;</span>
    <span class="o">]</span>,
    <span class="s2">&quot;title&quot;</span>: <span class="s2">&quot;getPrimaryInfo/result&quot;</span>,
    <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;object&quot;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="section" id="common-methods">
<h2>Common Methods<a class="headerlink" href="#common-methods" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="getcommit">
<h3>getCommit<a class="headerlink" href="#getcommit" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;commit&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">9223372036854775807</span><span class="p">,</span>
      <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">-9223372036854775808</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;term&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">18446744073709551615</span><span class="p">,</span>
      <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;term&quot;</span><span class="p">,</span>
    <span class="s2">&quot;commit&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;getCommit/result&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getprimaryinfo">
<h3>getPrimaryInfo<a class="headerlink" href="#getprimaryinfo" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;primary_host&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;primary_id&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">18446744073709551615</span><span class="p">,</span>
      <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;primary_port&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;primary_id&quot;</span><span class="p">,</span>
    <span class="s2">&quot;primary_host&quot;</span><span class="p">,</span>
    <span class="s2">&quot;primary_port&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;getPrimaryInfo/result&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getmetrics">
<h3>getMetrics<a class="headerlink" href="#getmetrics" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;histogram&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;buckets&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="nt">&quot;high&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">2147483647</span><span class="p">,</span>
          <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">-2147483648</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;low&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">2147483647</span><span class="p">,</span>
          <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">-2147483648</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;overflow&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">18446744073709551615</span><span class="p">,</span>
          <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;underflow&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">18446744073709551615</span><span class="p">,</span>
          <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;low&quot;</span><span class="p">,</span>
        <span class="s2">&quot;high&quot;</span><span class="p">,</span>
        <span class="s2">&quot;overflow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;underflow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;buckets&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;tx_rates&quot;</span><span class="p">:</span> <span class="p">{}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;histogram&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tx_rates&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;getMetrics/result&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getschema">
<h3>getSchema<a class="headerlink" href="#getschema" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;method&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;getSchema/params&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;params_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;result_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;params_schema&quot;</span><span class="p">,</span>
    <span class="s2">&quot;result_schema&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;getSchema/result&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="listmethods">
<h3>listMethods<a class="headerlink" href="#listmethods" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
  <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;methods&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;methods&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;listMethods/result&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="issue_commands.html" title="previous page">Issuing Commands</a>
    <a class='right-next' id="next-link" href="../glossary.html" title="next page">Glossary</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018, Microsoft Research.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>